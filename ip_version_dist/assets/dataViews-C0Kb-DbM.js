import{s as y}from"./axios-T8ECj3ti.js";import{u as k,w as D}from"./xlsx-DPk0xC4-.js";import{h as _,_ as E,c as U,b as e,w as u,a as T,r as f,o as R,f as x}from"./index-nMXVO1Yl.js";var A={exports:{}};(function(r,i){(function(b,h){h()})(_,function(){function b(a,o){return typeof o>"u"?o={autoBom:!1}:typeof o!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function h(a,o,m){var n=new XMLHttpRequest;n.open("GET",a),n.responseType="blob",n.onload=function(){g(n.response,o,m)},n.onerror=function(){console.error("could not download file")},n.send()}function l(a){var o=new XMLHttpRequest;o.open("HEAD",a,!1);try{o.send()}catch{}return 200<=o.status&&299>=o.status}function c(a){try{a.dispatchEvent(new MouseEvent("click"))}catch{var o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(o)}}var d=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof _=="object"&&_.global===_?_:void 0,t=d.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=d.saveAs||(typeof window!="object"||window!==d?function(){}:"download"in HTMLAnchorElement.prototype&&!t?function(a,o,m){var n=d.URL||d.webkitURL,s=document.createElement("a");o=o||a.name||"download",s.download=o,s.rel="noopener",typeof a=="string"?(s.href=a,s.origin===location.origin?c(s):l(s.href)?h(a,o,m):c(s,s.target="_blank")):(s.href=n.createObjectURL(a),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){c(s)},0))}:"msSaveOrOpenBlob"in navigator?function(a,o,m){if(o=o||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(b(a,m),o);else if(l(a))h(a,o,m);else{var n=document.createElement("a");n.href=a,n.target="_blank",setTimeout(function(){c(n)})}}:function(a,o,m,n){if(n=n||open("","_blank"),n&&(n.document.title=n.document.body.innerText="downloading..."),typeof a=="string")return h(a,o,m);var s=a.type==="application/octet-stream",C=/constructor/i.test(d.HTMLElement)||d.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||s&&C||t)&&typeof FileReader<"u"){var p=new FileReader;p.onloadend=function(){var w=p.result;w=v?w:w.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=w:location=w,n=null},p.readAsDataURL(a)}else{var S=d.URL||d.webkitURL,P=S.createObjectURL(a);n?n.location=P:location.href=P,n=null,setTimeout(function(){S.revokeObjectURL(P)},4e4)}});d.saveAs=g.saveAs=g,r.exports=g})})(A);var Q=A.exports;const j={components:{},data(){return{activeName:"工资表",incomePage:1,incomeTotal:0,incomeData:[],incomeQueryPage:1,incomeQueryTotal:0,incomeQueryData:[],recruitPage:1,recruitTotal:0,recruitData:[],query:{phone:"",title:""}}},mounted(){y.get(`/allsalary?page=${this.incomePage}`).then(r=>{this.incomeData=r.data,this.incomeTotal=r.total}),y.get(`/salaryreader?page=${this.incomeQueryPage}`).then(r=>{this.incomeQueryData=r.data,this.incomeQueryTotal=r.total}),y.get(`/recruitreader?page=${this.recruitPage}`).then(r=>{this.recruitData=r.data,this.recruitTotal=r.total})},beforeUnmount(){},methods:{handleClick(){},changeIncomePage(){y.get(`/allsalary?page=${this.incomePage}`).then(r=>{this.incomeData=r.data,this.incomeTotal=r.total})},changeIncomeQueryPage(){y.get(`/salaryreader?page=${this.incomeQueryPage}`).then(r=>{this.incomeQueryData=r.data,this.incomeQueryTotal=r.total})},changeRecruitPage(){y.get(`/recruitreader?page=${this.recruitPage}${this.query.title!=""?`&title=${this.query.title}`:""}${this.query.phone!=""?`&telephone=${this.query.phone}`:""}`).then(r=>{this.recruitData=r.data,this.recruitTotal=r.total})},exportToExcel(){const r=k.json_to_sheet(this.recruitData),i=k.book_new();k.book_append_sheet(i,r,"Sheet1");const b=D(i,{bookType:"xlsx",type:"binary"});function h(l){const c=new ArrayBuffer(l.length),d=new Uint8Array(c);for(let t=0;t<l.length;t++)d[t]=l.charCodeAt(t)&255;return c}Q.saveAs(new Blob([h(b)],{type:"application/octet-stream"}),`招聘信息查看表${this.formatDate()}.xlsx`)},formatDate(){const r=new Date,i=r.getFullYear(),b=(r.getMonth()+1).toString().padStart(2,"0"),h=r.getDate().toString().padStart(2,"0"),l=r.getHours().toString().padStart(2,"0"),c=r.getMinutes().toString().padStart(2,"0");return`${i}-${b}-${h} ${l}时${c}分`},clearQuery(){this.query={phone:"",title:""},this.changeRecruitPage()}}},q={class:"p-2"},L=T("h4",{class:"mb-4"},"信息管理",-1),B={class:"mt-2 d-flex"},V={class:"mt-2 d-flex"},F={class:"mt-2 d-flex"};function M(r,i,b,h,l,c){const d=f("el-divider"),t=f("el-table-column"),g=f("el-table"),a=f("el-pagination"),o=f("el-tab-pane"),m=f("el-input"),n=f("el-form-item"),s=f("el-button"),C=f("el-form"),v=f("el-tabs");return R(),U("div",q,[L,e(d,{"content-position":"left"},{default:u(()=>[x("信息管理 信息管理")]),_:1}),e(v,{modelValue:l.activeName,"onUpdate:modelValue":i[5]||(i[5]=p=>l.activeName=p),onTabClick:c.handleClick},{default:u(()=>[e(o,{label:"工资表",name:"工资表"},{default:u(()=>[e(g,{data:l.incomeData,stripe:"",border:"",style:{"max-width":"100%",width:"100%"}},{default:u(()=>[e(t,{fixed:"",prop:"Username",label:"姓名",width:"140"}),e(t,{fixed:"",prop:"Date",label:"日期",width:"120"}),e(t,{prop:"Certificate",label:"身份证",width:"180"}),e(t,{prop:"Telephone",label:"电话",width:"120"}),e(t,{prop:"CreditCard",label:"银行卡号",width:"180"}),e(t,{prop:"BasicSalary",label:"基本工资",width:"100"}),e(t,{prop:"AttendanceRequired",label:"应出勤天数",width:"100"}),e(t,{prop:"AttendanceActual",label:"实出勤天数",width:"100"}),e(t,{prop:"WorkHour",label:"总工时"}),e(t,{prop:"Performance",label:"绩效"}),e(t,{prop:"Allowance",label:"津贴"}),e(t,{prop:"Subsidy",label:"补助"}),e(t,{prop:"OvertimeSalary",label:"加班工资",width:"100"}),e(t,{prop:"Excitation",label:"正负激励",width:"100"}),e(t,{prop:"Discipline",label:"违纪扣款",width:"100"}),e(t,{prop:"Withholding",label:"代扣部分",width:"100"}),e(t,{prop:"BackPayment",label:"补发扣"}),e(t,{prop:"ShouldSalary",label:"应发工资",width:"100"}),e(t,{prop:"UtilitiesFee",label:"水电物业费",width:"100"}),e(t,{prop:"Tax",label:"个税"}),e(t,{prop:"AdvanceSalary",label:"预支工资",width:"100"}),e(t,{prop:"ActualSalary",label:"实发工资",width:"100"})]),_:1},8,["data"]),T("div",B,[e(a,{class:"ms-auto",background:"",layout:"prev, pager, next","current-page":l.incomePage,"onUpdate:currentPage":i[0]||(i[0]=p=>l.incomePage=p),total:l.incomeTotal,onCurrentChange:c.changeIncomePage},null,8,["current-page","total","onCurrentChange"])])]),_:1}),e(o,{label:"查询工资统计",name:"查询工资统计"},{default:u(()=>[e(g,{data:l.incomeQueryData,stripe:"",border:"",style:{"max-width":"100%",width:"100%"}},{default:u(()=>[e(t,{fixed:"",prop:"Username",label:"姓名"}),e(t,{fixed:"",prop:"Telephone",label:"电话"}),e(t,{prop:"CreatedAt",label:"日期"})]),_:1},8,["data"]),T("div",V,[e(a,{class:"ms-auto",background:"",layout:"prev, pager, next","current-page":l.incomeQueryPage,"onUpdate:currentPage":i[1]||(i[1]=p=>l.incomeQueryPage=p),total:l.incomeQueryTotal,onCurrentChange:c.changeIncomeQueryPage},null,8,["current-page","total","onCurrentChange"])])]),_:1}),e(o,{label:"招聘信息点击统计",name:"招聘信息点击统计"},{default:u(()=>[e(C,{inline:!0,model:l.query,class:"demo-form-inline"},{default:u(()=>[e(n,{label:"手机号"},{default:u(()=>[e(m,{modelValue:l.query.phone,"onUpdate:modelValue":i[2]||(i[2]=p=>l.query.phone=p),placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),e(n,{label:"招聘信息标题"},{default:u(()=>[e(m,{modelValue:l.query.title,"onUpdate:modelValue":i[3]||(i[3]=p=>l.query.title=p),placeholder:"请输入招聘信息标题"},null,8,["modelValue"])]),_:1}),e(n,null,{default:u(()=>[e(s,{type:"primary",onClick:c.changeRecruitPage,plain:""},{default:u(()=>[x("查询")]),_:1},8,["onClick"])]),_:1}),e(n,null,{default:u(()=>[e(s,{type:"info",plain:"",onClick:c.clearQuery},{default:u(()=>[x("重置筛选条件")]),_:1},8,["onClick"])]),_:1}),e(n,null,{default:u(()=>[e(s,{type:"success",plain:"",onClick:c.exportToExcel},{default:u(()=>[x("导出XSLX")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model"]),e(g,{data:l.recruitData,stripe:"",border:"",style:{"max-width":"100%",width:"100%"}},{default:u(()=>[e(t,{fixed:"",prop:"Username",label:"姓名"}),e(t,{fixed:"",prop:"Telephone",label:"手机号"}),e(t,{prop:"CreatedAt",label:"日期"}),e(t,{prop:"Title",label:"标题"})]),_:1},8,["data"]),T("div",F,[e(a,{class:"ms-auto",background:"",layout:"prev, pager, next","current-page":l.recruitPage,"onUpdate:currentPage":i[4]||(i[4]=p=>l.recruitPage=p),total:l.recruitTotal,onCurrentChange:c.changeRecruitPage},null,8,["current-page","total","onCurrentChange"])])]),_:1})]),_:1},8,["modelValue","onTabClick"])])}const I=E(j,[["render",M]]);export{I as default};
