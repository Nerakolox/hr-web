import{_ as D,s as p,z as C,c as i,b as o,A as I,F as f,x as V,d as l,w as r,f as w,r as d,o as c,t as h,p as L,h as M}from"./index-D49ookEs.js";const z={components:{},data(){return{recruits:[],shows:{title:"",time:"",disc:"",content:""},drawer:!1,page:1,loading:!1,totalpages:-1}},mounted(){p.get(`/readrecruit?page=${this.page}`).then(t=>{this.recruits=t.data,this.totalpages=t.totalpages})},beforeUnmount(){},methods:{showRecruit(t){t.click++,this.drawer=!0,p.get(`/readrecruit?id=${t.id}`).then(e=>{this.shows={title:e.data.title,time:e.data.UpdatedAt,disc:e.data.summary,content:e.data.content}})},goBack(){this.drawer=!1},load(){!this.loading&&this.page<this.totalpages&&(this.loading=!0,console.log(this.page),p.get(`/readrecruit?page=${this.page+1}`).then(t=>{this.page++,t.data.forEach(e=>{this.recruits.push(e)}),this.totalpages=t.totalpages,this.$nextTick(()=>{this.loading=!1})}))},formatDate(t){const e=new Date(t),g=e.getFullYear(),m=(e.getMonth()+1).toString().padStart(2,"0"),s=e.getDate().toString().padStart(2,"0"),n=e.getHours().toString().padStart(2,"0"),u=e.getMinutes().toString().padStart(2,"0");return`${g}-${m}-${s} ${n}:${u}`}},watch:{drawer(t){t===!1&&(this.shows={title:"",time:"",disc:"",content:""})}}},_=t=>(L("data-v-cbe7502a"),t=t(),M(),t),F={class:"recruit p-2"},H=_(()=>o("h5",{class:"p-3"},"招聘市场",-1)),N=["infinite-scroll-disabled"],T={class:"d-flex flex-column"},U={style:{"font-size":"120%"}},A={class:"d-flex justify-content-between"},E=_(()=>o("div",null,null,-1)),R={key:0,class:"text-muted text-center w-100"},j={key:1,class:"text-muted text-center w-100"},Y=_(()=>o("small",null,"没有更多招聘信息了",-1)),q=[Y],G={class:"text-large font-600 mr-3"},J={class:"w-100 text-end"},K=_(()=>o("hr",{class:"m-2 ms-0 me-0",style:{border:"1px solid #c3c3c3"}},null,-1)),O=["innerHTML"];function P(t,e,g,m,s,n){const u=d("el-card"),v=d("Loading"),x=d("el-icon"),k=d("el-page-header"),y=d("el-drawer"),S=C("infinite-scroll");return c(),i(f,null,[o("div",F,[H,I((c(),i("div",{style:{height:"100%"},"infinite-scroll-disabled":s.page>=s.totalpages},[(c(!0),i(f,null,V(s.recruits,(a,b)=>(c(),i("div",{key:a.id},[l(u,{class:"mb-2 recruit-card",style:{width:"100%"},shadow:"hover",onClick:B=>n.showRecruit(a)},{default:r(()=>[o("div",T,[o("h5",U,h(a.title),1),o("div",A,[o("div",null,h(a.summary),1),E])])]),_:2},1032,["onClick"])]))),128))],8,N)),[[S,n.load]]),s.loading?(c(),i("div",R,[l(x,{class:"is-loading"},{default:r(()=>[l(v)]),_:1})])):w("",!0),s.page>=s.totalpages?(c(),i("div",j,q)):w("",!0)]),l(y,{modelValue:s.drawer,"onUpdate:modelValue":e[0]||(e[0]=a=>s.drawer=a),"show-close":!1,size:"100%"},{header:r(({close:a,titleId:b,titleClass:B})=>[l(k,{onBack:n.goBack},{content:r(()=>[o("span",G,h(s.shows.title),1)]),_:1},8,["onBack"])]),default:r(()=>[o("div",null,h(s.shows.disc),1),o("div",J,[o("small",null,"更新日期："+h(n.formatDate(s.shows.time)),1)]),K,o("div",{innerHTML:s.shows.content},null,8,O)]),_:1},8,["modelValue"])],64)}const W=D(z,[["render",P],["__scopeId","data-v-cbe7502a"]]);export{W as default};
